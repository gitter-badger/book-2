<!DOCTYPE html>
<html>

<head>
    <style>
    #navbar {
        display: flex;
        justify-content: center;
    }
    
    #navbar li {
        width: 120px;
        text-align: center;
        font-size: 18px;
    }
    
    #navbar li a {
        display: block;
    }
    
    #navbar li:hover {
        background-color: #555;
        color: white;
    }
    </style>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<!-- Dropdown of team member names -->
<ul id="dropdown1" class="dropdown-content">
    <li><a href="#!">Russ Mehring</a></li>
    <li><a href="#!">Steven Tang</a></li>
    <li><a href="#!">Dominic Tonozzi</a></li>
    <li><a href="#!">Jacob Resman</a></li>
</ul>

<ul id="nav_dropdown" class="dropdown-content">
    <li><a href="/">Home</a></li>
    <li><a href="/apps/todos/index.html">Todos</a></li>
</ul>


<nav class="blue-grey darken-1">
    <div class="nav-wrapper container">
        <div class="col s6">
            <a id="logo-container" href="/src/apps/todos/index.html" class="header orange-text brand-logo center">Team Rock 'em Sock 'em Robots</a>
            <ul class="right hide-on-med-and-down">
                <li><a class="dropdown-button" href="#!" data-activates="dropdown1">Team Members<i class="material-icons right">arrow_drop_down</i></a></li>
            </ul>
            <ul id="nav-mobile" class="left hide-on-med-and-down">
                <li><a class="dropdown-button" href="#!" data-activates="nav_dropdown">Menu<i class="material-icons right">arrow_drop_down</i></a></li>
            </ul>
        </div>
    </div>
</nav>

<body>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
    <div class="container">
        <h1> Adding a Task </h1>
        <div class="row">
            <div class="input-field col s12">
                <input value="" id="title" type="text" class="validate">
                <label for="title">Title</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <select id="priority">
                    <option value="" disabled selected>Choose Priority</option>
                    <option value="1">High</option>
                    <option value="2">Medium</option>
                    <option value="3">Low</option>
                </select>
                <label>Priority</label>
            </div>
        </div>
        <!-- TODO: add more form controls for entering task data -->
        <div class="row">
            <div class="input-field col s12">
                <a class="waves-effect waves-light btn" id="submit">Submit</a>
            </div>
        </div>
    </div>
    <script>
    var root = new Firebase('https://ucdd2-book.firebaseio.com/')
    var taskListRef = root.child('todos/tasks')

    $('#submit').click(function() {
        console.log('the submit button is clicked')

        var title = $('#title').val()
        console.log('the title is', title)

        var priority = $('#priority').val()
        console.log('the priority is', priority)

        // TODO: retrieve more fields from form inputs

        // TODO: add more fields to taskObject
        var taskObject = {
            title: title
        }

        // TODO: add logic to validate form data before pushing the
        // data to firebase, only push/set if the required fields are not empty

        // TODO: study why push() and set() are both necessary
        var newTaskRef = taskListRef.push()
        newTaskRef.set(taskObject)
    })

    // IMPORTANT!! initialize materializecss select
    $(document).ready(function() {
        $('select').material_select();
    });
    </script>
</body>
<nav class="blue-grey darken-1 center">
    <div class="nav-wrapper container">Copyright @ Rock 'em Sock 'em Robots, All Rights Reserved.
    </div>
</nav>

</html>